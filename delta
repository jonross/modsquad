# vim:ft=python

import sys
import tavolino as tl

(columns, rest) = tl.getargs(tl.columns())

rows = list(tl.getrows())
if not rows:
    sys.exit(0)

offset = 0
for index in range(0, len(rows[0])):
    if index in columns or (rest is not None and index >= rest):
        last = None
        for row in rows:
            value = tl.convert(row[index + offset])
            delta = 0 if last is None else value - last
            last = value
            row.insert(index + offset + 1, delta)
        offset += 1

for row in rows:
    tl.output(row)

